# Подстановки в консоль
## Подстановка в shell
При нажатии Enter оболочка автоматически производит подстановку любых групповых символов в командной строке, прежде чем выполнить. К примеру `echo *` не выедет звездочку
```bash
$ echo *
file_from_cat.txt first.txt script second.txt sorted.txt third.txt wget-log xslt_and_xpath_evaluation.js xslt_and_xpath_evaluation.js.1 xslt_and_xpath_evaluation.js.2
```
*Командная строка Linux. Полное руководство. 2-е межд. изд., стр. 103*

## Подстановка и скрытые файлы
Подстановка учитывает, что файлы, начинающиеся с `.` считаются скрытыми
```bash
:~$ echo *
file_from_cat.txt first.txt script
```
*Командная строка Linux. Полное руководство. 2-е межд. изд., стр. 104*

## Подстановка арифметических операций
```bash
$ echo $((2 * 5))
10
```
Но механизм подстановки может работать только с целыми числами

| Оператор | Описание                        |
| -------- | ------------------------------- |
| `+`      | Сложение                        |
| `-`      | Вычитание                       |
| `*`      | Умножение                       |
| `/`      | Деление (но только целая часть) |
| `%`      | Остаток от деления              |
| `**`     | Возведение в степень            |

```bash
$ echo $((2**5))
32
$ echo $(($((5**2)) * 3))
75
$ echo $(((5**2) * 3))
75
```
*Командная строка Linux. Полное руководство. 2-е межд. изд., стр. 105*

## Подстановка фигурных скобок (создает множество строк)
```bash
$ echo Преамбула-{A,B,C}-эпилог
Преамбула-A-эпилог Преамбула-B-эпилог Преамбула-C-эпилог
```
*Командная строка Linux. Полное руководство. 2-е межд. изд., стр. 106*

## Подстановка команд
```bash
$ ls -l $(which cp)
-rwxr-xr-x 1 root root 153976 Sep  5  2019 /usr/bin/cp
```
Или в более старом варианте с использованием обратных апострофов
```bash
$ ls -l `which cp`
-rwxr-xr-x 1 root root 153976 Sep  5  2019 /usr/bin/cp
```
*Командная строка Linux. Полное руководство. 2-е межд. изд., стр. 108*

## Двойные кавычки
Есил заключить текст в двойные кавычки, все специальные символы потеряют свое специальное значение и будут интерпретироваться, как обычные символы.<br/>
Исключение составляют: `$`, `\`, обратный апостроф<br/>
*Командная строка Linux. Полное руководство. 2-е межд. изд., стр. 109*

## Одиночные кавычки
Одиночные кавычки подавляют все подстановки
```bash
$ echo "Текущий пользователь $USER"
Текущий пользователь aleksei_khitev
$ echo 'Текущий пользователь $USER'
Текущий пользователь $USER
```
*Командная строка Linux. Полное руководство. 2-е межд. изд., стр. 111*

## Управляющие последовательности

| Последовательность | Значение        |
| ------------------ | --------------- |
| `\a`               | Звонок          |
| `\b`               | backspace       |
| `\n`               | Новая строка    |
| `\r`               | Возврат каретки |
| `\t`               | Табуляция       |

*Командная строка Linux. Полное руководство. 2-е межд. изд., стр. 112*

## echo - Включение обработки управляющих последовательностей
```bash
$ echo "Одна строка\nВторая строка"
Одна строка\nВторая строка
$ echo -e "Одна строка\nВторая строка"
Одна строка
Вторая строка
```
*Командная строка Linux. Полное руководство. 2-е межд. изд., стр. 113*

## Подстановка даты
```bash
$ date
Пн 11 ноя 2024 16:51:57 MSK
$ date +%d.%m.%Y_%H:%M
11.11.2024_16:52
$ cp davmail.log "davmail-$(date +%d.%m.%Y_%H:%M.log)"
$ ls davmail*
davmail-11.11.2024_16:54.log  davmail.log  davmail.log.1  davmail.log.2
```

